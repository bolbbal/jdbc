package javaJDBCentry;

import java.sql.*;
import java.util.*;

public class EntryDao {
	Scanner sc = new Scanner(System.in);
	
	public void insertEntry() {
		System.out.println(">>경영점수 등록 화면");
		System.out.print("참가 번호 : ");
		String entryNo = sc.next();
		System.out.println("심사위원 점수 등록");
		System.out.print("김심사 점수 : ");
		int score1 = sc.nextInt();
		System.out.print("이심사 점수 : ");
		int score2 = sc.nextInt();
		System.out.print("박심사 점수 : ");
		int score3 = sc.nextInt();
		System.out.print("황심사 점수 : ");
		int score4 = sc.nextInt();
		System.out.print("조심사 점수 : ");
		int score5 = sc.nextInt();
		System.out.print("등록여부 [Y/N]");
		String decide = sc.next();
		if(decide.equalsIgnoreCase("n")) {
			return;
		} else if(decide.equalsIgnoreCase("y")) {
			Connection conn = null;
			PreparedStatement pstmt = null;
			
			String sql = "insert into entry_no values (?,?,?,?,?,?)";
			
			try {
				conn = DBManager.getInstance().getDBManger();
				pstmt = conn.prepareStatement(sql);
				pstmt.setString(1, entryNo);
				pstmt.setInt(2, score1);
				pstmt.setInt(3, score2);
				pstmt.setInt(4, score3);
				pstmt.setInt(5, score4);
				pstmt.setInt(6, score5);
				pstmt.executeUpdate();
			} catch (Exception e) {
				e.printStackTrace();
			}
		} 
	}
}
